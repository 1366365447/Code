布是一个n*m的网格，线只能在网格的顶点处才能从布的一面穿到另一面。每一段线都覆盖一个单位网格的两条对角线之一，而在绣的过程中，一针中连续的两段线必须分处布的两面。给出布两面的图案，问最少需要几针才能绣出来？一针是指针不离开布的一次绣花过程。
[IMG]http://www.Vijos.cn/ProblemImg/P1015.gif[/IMG]
